{% extends "network/layout.html" %}
{% load static %}

{% block body %}
<div class="form-container">
    {% if user.is_authenticated %}
    <div class="card">
        <div class="card-body">
            <h2 class="card-title">New Post</h2>
            <form id="post-form"
                  action="{% url 'network:post' %}"
                  method="post">
                {% csrf_token %}
                <div class="form-group">
                    <textarea class="form-control"
                              name="post-body"
                              placeholder="Body"></textarea>
                </div>
                <input type="submit"
                       class="btn btn-primary" />
            </form>
        </div>
    </div>
    {% endif %}

    {% for post in posts %}
    <div class="card">
        <div class="card-body">
            <h5 class="card-title">{{post.user.username}}</h5>
            <p class="card-text">{{post.body}}</p>
            <!-- NOT LIKED -->
            <button class="like-button"><i class="fa fa-heart-o"></i><span
                      class="likes-count">{{post.likes.count}}</span></button>
            <!-- LIKED -->
            <button class="like-button"><i class="fa fa-heart"></i><span
                      class="likes-count">{{post.likes.count}}</span></button>
            <p class="card-text"><small class="text-muted">{{post.timestamp}}</small></p>
        </div>
    </div>
    {% endfor %}

</div>
{% endblock %}

{% block script %}
<script type="text/javascript"
        src="{% static 'network/main.js' %}"></script>
{% endblock %}